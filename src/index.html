<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jornadas de Economía Circular</title>
  <link rel="stylesheet" href="./assets/styles/main.scss">
</head>
<body>

  <header>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary py-2">
      <div class="container">
        <a class="navbar-brand" href="index.html">
          <img src="./assets/images/logo.png" alt="Logo Jornadas Economía Circular" height="30" class="navbar-logo">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMain" aria-controls="navbarMain" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarMain">
          <ul class="navbar-nav ms-auto">
           
            <li class="nav-item">
              <a class="nav-link" href="participantes.html">Ponentes</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" aria-current="page" href="conferencias.html">Charlas</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="talleres.html">Talleres</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

  <!-- Contenido principal -->
  <main class="poster-grid">
    <section class="grid-hero">
      <div id="carouselJornadas" class="carousel slide custom-carousel" data-bs-ride="carousel">
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#carouselJornadas" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#carouselJornadas" data-bs-slide-to="1" aria-label="Slide 2"></button>
          <button type="button" data-bs-target="#carouselJornadas" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner rounded shadow">
          <div class="carousel-item active">
            <img src="./assets/images/imagen1.png" class="d-block w-100 carousel-img" alt="Jornadas Economía Circular">
            <div class="carousel-caption">
              <h2 class="carousel-title">Bienvenid@ a las Jornadas de Economía Circular 2025</h2>
              <p class="carousel-text d-none d-sm-block">El futuro es nuesto</p>
            </div>
          </div>
          <div class="carousel-item">
            <img src="./assets/images/imagen2.png" class="d-block w-100 carousel-img" alt="Charlas">
            <div class="carousel-caption"> <!-- Eliminar d-none d-md-block -->
              <h2 class="carousel-title">Charlas y Conferencias</h2>
              <p class="carousel-text d-none d-sm-block">
                Encuentra expert@s que comparten sus proyectos e ideas sostenibles</p>
            </div>
          </div>
          <div class="carousel-item">
            <img src="./assets/images/imagen3.jpg" class="d-block w-100 carousel-img" alt="Talleres">
            <div class="carousel-caption"> <!-- Eliminar d-none d-md-block -->
              <h2 class="carousel-title">Talleres Prácticos Para Aprender</h2>
              <p class="carousel-text d-none d-sm-block">Implementa la economía circular</p>
            </div>
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselJornadas" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Anterior</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselJornadas" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Siguiente</span>
        </button>
      </div>
    </section>
    
    <section class="grid-welcome" id="bienvenidos">
      <div class="cq-container welcome-section">
        <h2>Bienvenid@s a nuestras Jornadas de Economía Circular</h2>
        <!-- Card de Bootstrap (componente 2) -->
        <div class="card mb-4 mb-md-5">
          <div class="card-body p-3 p-md-4 text-center">
            <h3 class="card-title mb-2 mb-md-3">Empezamos, ¿qué es la Economía Circular?</h3>
            <p class="card-text">Es un modelo económico que busca redefinir el crecimiento, 
              centrándose en los beneficios positivos para toda la sociedad. 
              Estas jornadas organizadas en colaboración con el Ayuntamiento de Carballo, buscan ser un 
              punto de encuentro para profesionales, emprendedores y ciudadanos interesados 
              en un futuro más sostenible.</p>
          </div>
        </div>
        
        <!-- Alertas de Bootstrap (componente 3) -->
        <div class="alert alert-primary d-flex flex-column flex-sm-row align-items-start align-items-sm-center" role="alert">
          <i class="fas fa-calendar-alt me-0 me-sm-2 mb-2 mb-sm-0"></i>
          <div>Apunta en la agenda, las jornadas se celebrarán los días 2, 3 y 4 de Junio de 2025</div>
        </div>
        
        <div class="alert alert-secondary mt-3 d-flex flex-column flex-sm-row align-items-start align-items-sm-center" role="alert">
          <i class="fas fa-map-marker-alt me-0 me-sm-2 mb-2 mb-sm-0"></i>
          <div>Pazo da Cultura, (Carballo) y modalidad online (formato híbrido)</div>
        </div>
      </div>
    </section>
    
    <section class="grid-featured">
      <div class="cq-container featured-section">
        <h2>Actividades Destacadas</h2>
        
        <!-- Tarjetas con Cards de Bootstrap -->
        <div class="row row-cols-1 row-cols-sm-2 row-cols-lg-3 g-3 g-md-4">
          <!-- Tarjeta 1 -->
          <div class="col mb-3">
            <div class="card feature-card h-100">
              <div class="card-body">
                <div class="text-center mb-3">
                  <i class="fas fa-chalkboard-teacher fa-3x text-primary"></i>
                </div>
                <h5 class="card-title text-center">Charlas</h5>
                <p class="card-text text-truncate-3">Asiste a debates entre expertos sobre economía circular, innovación sostenible y estrategias para la reducción de residuos en diferentes sectores empresariales.</p>
              </div>
              <div class="card-footer bg-transparent border-0 text-center">
                <a href="conferencias.html" class="btn btn-outline-primary btn-sm btn-md-normal">Ver charlas</a>
              </div>
            </div>
          </div>
          
          <!-- Tarjeta 2 -->
          <div class="col mb-3">
            <div class="card feature-card h-100">
              <div class="card-body">
                <div class="text-center mb-3">
                  <i class="fas fa-users fa-3x text-primary"></i>
                </div>
                <h5 class="card-title text-center">Ponentes</h5>
                <p class="card-text text-truncate-3">Conoce a los especialistas, emprendedores y líderes en sostenibilidad que compartirán sus experiencias e iniciativas en economía circular.</p>
              </div>
              <div class="card-footer bg-transparent border-0 text-center">
                <a href="participantes.html" class="btn btn-outline-primary btn-sm btn-md-normal">Ver ponentes</a>
              </div>
            </div>
          </div>
          
          <!-- Tarjeta 3 -->
          <div class="col mb-3">
            <div class="card feature-card h-100">
              <div class="card-body">
                <div class="text-center mb-3">
                  <i class="fas fa-recycle fa-3x text-primary"></i>
                </div>
                <h5 class="card-title text-center">Talleres</h5>
                <p class="card-text text-truncate-3">Participa en talleres prácticos sobre reutilización de materiales, diseño circular, gestión de residuos y estrategias para implementar la economía circular en tu organización.</p>
              </div>
              <div class="card-footer bg-transparent border-0 text-center">
                <a href="talleres.html" class="btn btn-outline-primary btn-sm btn-md-normal">Ver talleres</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    
    <section class="grid-inscription">
      <div>
        <h2>¡Te animas?, Inscríbete ahora!</h2>
        <p class="mb-3 mb-md-4">Plazas son limitadas. Acceso previa reserva.</p>
        <button type="button" class="btn btn-primary btn-lg" id="inscripcionBtn">
          Inscripción
        </button>
        
        <!-- Toast de Bootstrap -->
        <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
          <div id="inscripcionToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
              <i class="fas fa-check-circle text-success me-2"></i>
              <strong class="me-auto">Jornadas Economía Circular</strong>
              <small>Ahora</small>
              <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Cerrar"></button>
            </div>
            <div class="toast-body">
              ¡Gracias por tu interés! Pronto recibirás un email con el formulario de inscripción 
              y toda la información sobre las jornadas.
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Pie de página con Bootstrap -->
  <footer class="bg-primary text-white py-4">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-3 text-center text-md-start mb-3 mb-md-0">
          <img src="./assets/images/logo.png" alt="Logo Jornadas Economía Circular" height="35" class="footer-logo">
        </div>
        <div class="col-md-6 mb-3 mb-md-0">
          <ul class="nav flex-column flex-sm-row justify-content-center">
            <li class="nav-item"><a href="index.html" class="nav-link text-white">Inicio</a></li>
            <li class="nav-item"><a href="participantes.html" class="nav-link text-white">Ponentes</a></li>
            <li class="nav-item"><a href="conferencias.html" class="nav-link text-white">Charlas</a></li>
            <li class="nav-item"><a href="talleres.html" class="nav-link text-white">Talleres</a></li>
          </ul>
        </div>
        <div class="col-md-3">
          <div class="d-flex justify-content-center justify-content-md-end">
            <a href="https://www.facebook.com/economiacircular" target="_blank" rel="noopener" class="text-white me-3"><i class="fab fa-facebook-f"></i></a>
            <a href="https://twitter.com/economiacircular" target="_blank" rel="noopener" class="text-white me-3"><i class="fab fa-twitter"></i></a>
            <a href="https://plus.google.com/economiacircular" target="_blank" rel="noopener" class="text-white"><i class="fab fa-google-plus-g"></i></a>
          </div>
        </div>
      </div>
    </div>
  </footer>
  
  <!-- JavaScript para Bootstrap y funcionalidades -->
  <script type="module">
    import * as bootstrap from 'bootstrap';
    
    // Inicializar toasts
    const inscripcionBtn = document.getElementById('inscripcionBtn');
    const inscripcionToast = document.getElementById('inscripcionToast');
    
    if (inscripcionBtn && inscripcionToast) {
      inscripcionBtn.addEventListener('click', () => {
        const toast = new bootstrap.Toast(inscripcionToast);
        toast.show();
      });
    }
  </script>

  <!-- Script de inicialización de Bootstrap -->
  <script>
    // Carga de respaldo si bootstrap no está disponible
    document.addEventListener('DOMContentLoaded', function() {
      // Verificar si bootstrap ya está disponible (desde main.js)
      if (typeof bootstrap === 'undefined') {
        console.warn('Bootstrap no disponible, cargando desde CDN...');
        const script = document.createElement('script');
        script.src = 'https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js';
        script.onload = function() {
          console.log('Bootstrap cargado con éxito');
          initBootstrapComponents();
        };
        document.body.appendChild(script);
      } else {
        console.log('Bootstrap ya disponible');
        initBootstrapComponents();
      }
      
      // Función para inicializar componentes
      function initBootstrapComponents() {
        console.log('Inicializando componentes...');
        
        // 1. Inicializar navegación toggler
        const navbarToggler = document.querySelector('.navbar-toggler');
        if (navbarToggler) {
          console.log('Encontrado navbar toggler');
          navbarToggler.addEventListener('click', function() {
            const target = document.querySelector(this.getAttribute('data-bs-target') || this.getAttribute('data-target'));
            if (target && bootstrap.Collapse) {
              const collapse = new bootstrap.Collapse(target, {toggle: true});
            }
          });
        }
        
        // 2. Inicializar modales
        const modalTriggers = document.querySelectorAll('[data-bs-toggle="modal"]');
        if (modalTriggers.length > 0) {
          console.log(`Encontrados ${modalTriggers.length} triggers de modales`);
          modalTriggers.forEach(trigger => {
            trigger.addEventListener('click', function() {
              const target = document.querySelector(this.getAttribute('data-bs-target') || this.getAttribute('data-target'));
              if (target && bootstrap.Modal) {
                const modal = new bootstrap.Modal(target);
                modal.show();
              }
            });
          });
        }
        
        // 3. Tooltips y popovers
        const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
        if (tooltipTriggerList.length > 0 && bootstrap.Tooltip) {
          tooltipTriggerList.forEach(el => new bootstrap.Tooltip(el));
        }
        
        const popoverTriggerList = document.querySelectorAll('[data-bs-toggle="popover"]');
        if (popoverTriggerList.length > 0 && bootstrap.Popover) {
          popoverTriggerList.forEach(el => new bootstrap.Popover(el));
        }
        
        // 4. Filtros para participantes (específico para participantes.html)
        const filterButtons = document.querySelectorAll('[data-filter]');
        if (filterButtons.length > 0) {
          console.log(`Encontrados ${filterButtons.length} botones de filtro`);
          filterButtons.forEach(button => {
            button.addEventListener('click', function() {
              // Remover clase activa de todos los botones
              filterButtons.forEach(btn => btn.classList.remove('active'));
              // Añadir clase activa al botón actual
              this.classList.add('active');
              
              const filterValue = this.getAttribute('data-filter');
              const participantItems = document.querySelectorAll('.participant-flex-item');
              
              participantItems.forEach(item => {
                if (filterValue === 'all' || item.getAttribute('data-category') === filterValue) {
                  item.style.display = '';
                } else {
                  item.style.display = 'none';
                }
              });
            });
          });
        }
      }
    });
  </script>

  <!-- Script para solucionar el problema de bloqueo modal -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Escucha eventos de cierre de modal
      document.body.addEventListener('hidden.bs.modal', function() {
        // Elimina cualquier backdrop residual
        const backdrops = document.querySelectorAll('.modal-backdrop');
        if (backdrops.length > 0) {
          backdrops.forEach(backdrop => {
            backdrop.remove();
          });
        }
        
        // Asegúrate de que el body no tenga las clases que bloquean el scroll
        document.body.classList.remove('modal-open');
        document.body.style.overflow = '';
        document.body.style.paddingRight = '';
      });
      
      // También trata los clics en botones de cierre
      document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(button => {
        button.addEventListener('click', function() {
          // Breve retraso para asegurar que se active después del evento de Bootstrap
          setTimeout(function() {
            const backdrops = document.querySelectorAll('.modal-backdrop');
            backdrops.forEach(backdrop => backdrop.remove());
            document.body.classList.remove('modal-open');
            document.body.style.overflow = '';
            document.body.style.paddingRight = '';
          }, 300);
        });
      });
    });
  </script>
</body>
</html>